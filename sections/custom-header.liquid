<section class="custom-header">
  <div class="header-container">
    <div class="logo">
      <a href="/" aria-label="SEA PALM" class="logo__image-link">
        <img src="{{ 'seapalm.png' | asset_url }}" alt="SEA PALM Logo" class="logo__image">
      </a>
    </div>

    <nav class="nav-menu">
      <a href="/new">New</a>
      <a href="/clothing">Clothing</a>
      <a href="/dresses">Dresses</a>
      <a href="/swim">Swim</a>
      <a href="/accessories">Accessories</a>
      <a href="/collections">Collections</a>
      <a href="/explore">Explore</a>
    </nav>

    <div class="header-icons">
      <a href="javascript:void(0);" id="search-icon">üîç</a>
      <a href="/account">üë§</a>
      <a href="/cart">üõí</a>
    </div>
  </div>

  <!-- Search Bar -->
  <div id="search-bar" class="search-bar">
    <input type="text" placeholder="Search products...">
  </div>

  <style>
    .custom-header {
      position: relative;
      background: transparent; /* Keep it transparent initially */
      overflow: hidden; /* Prevent overflow during animation */
      transition: background-color 1.5s ease-in-out; /* Transition background color */
    }

    .custom-header::before {
      content: "";
      position: absolute;
      top: -100%; /* Start the overlay above the header */
      left: 0;
      width: 100%;
      height: 100%;
      background: black; /* Solid black overlay */
      transition: top 0.8s ease-in-out; /* Animate top position */
      z-index: -1;
    }

    .custom-header:hover::before {
      top: 0; /* Move the overlay down to cover the header */
    }

    .custom-header .nav-menu a,
    .custom-header .logo img {
      transition: color 1.5s ease-in-out, filter 1.5s ease-in-out;
    }

    .custom-header:hover .nav-menu a {
      color: white !important;
    }

    .custom-header:hover .logo img {
      filter: brightness(0) invert(1); /* Turns dark logo white */
    }

    .search-bar {
      position: absolute;
      bottom: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 80%; /* Adjust the width as needed */
      max-width: 500px;
      display: none; /* Initially hidden */
      background-color: white;
      border-top: 2px solid #ccc;
      padding: 10px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      transition: bottom 0.3s ease, opacity 0.3s ease;
    }

    .search-bar input {
      width: 100%;
      padding: 10px;
      font-size: 16px;
      border: 1px solid #ccc;
      border-radius: 4px;
    }
  </style>

  <script>
    const searchIcon = document.getElementById('search-icon');
    const searchBar = document.getElementById('search-bar');

    searchIcon.addEventListener('click', () => {
      if (searchBar.style.display === "block") {
        searchBar.style.display = "none"; // Hide the search bar if it's visible
      } else {
        searchBar.style.display = "block"; // Show the search bar
        searchBar.style.bottom = '50px'; // Adjust position when visible
        searchBar.style.opacity = '1';
      }
    });
  </script>
</section>
