<section class="custom-header">
  <div class="header-container">
    <div class="logo">
      <a href="/" aria-label="SEA PALM" class="logo__image-link">
        <img src="{{ 'seapalm.png' | asset_url }}" alt="SEA PALM Logo" class="logo__image">
      </a>
    </div>

    <!-- Combined Navigation and Icons Section -->
    <div class="header-right">
      <nav class="nav-menu">
        <a href="/new">New</a>
        <a href="/clothing" class="has-submenu">
          Clothing
          <div class="submenu">
            <a href="/clothing/all">All</a>
            <a href="/clothing/dresses">Dresses</a>
            <a href="/clothing/tops">Tops</a>
            <a href="/clothing/skirts">Skirts</a>
            <a href="/clothing/pants">Pants</a>
            <a href="/clothing/jumpsuits">Jumpsuits</a>
            <a href="/clothing/sets">Sets</a>
            <a href="/clothing/activewear">Activewear</a>
            <a href="/clothing/valentines-day">Valentine's Day</a>
            <a href="/clothing/wedding-guest">Wedding Guest</a>
          </div>
        </a>
        <a href="/dresses" class="has-submenu">
          Dresses
          <div class="submenu">
            <a href="/dresses/all">All</a>
            <a href="/dresses/maxi">Maxi Dresses</a>
            <a href="/dresses/midi">Midi Dresses</a>
            <a href="/dresses/mini">Mini Dresses</a>
            <a href="/dresses/wedding-guest">Wedding Guest Edit</a>
          </div>
        </a>
        <a href="/swim" class="has-submenu">
          Swim
          <div class="submenu">
            <a href="/swim/all">All</a>
            <a href="/swim/bikinis">Bikinis</a>
            <a href="/swim/onepieces">One Pieces</a>
            <a href="/swim/coverups">Cover Ups</a>
          </div>
        </a>
        <a href="/accessories" class="has-submenu">
          Accessories
          <div class="submenu">
            <a href="/accessories/all">All</a>
            <a href="/accessories/earrings">Earrings</a>
            <a href="/accessories/bracelets">Bracelets</a>
            <a href="/accessories/belts">Belts</a>
            <a href="/accessories/bags">Bags</a>
          </div>
        </a>
        <a href="/collections" class="has-submenu">
          Collections
          <div class="submenu">
            <a href="/collections/resorty25">Resorty 25 - Islote</a>
            <a href="/collections/fallwinter24">Fall Winter 24 - City Lights</a>
            <a href="/collections/highsummer24">High Summer 24 - Selva Adentro</a>
            <a href="/collections/springsummer24">Spring Summer 24 - Sarakiniko</a>
            <a href="/collections/resort24">Resort 24 - Valle de la Luna</a>
          </div>
        </a>
        <a href="/explore" class="has-submenu">
          Explore
          <div class="submenu">
            <a href="/explore/sustainability">Sustainability</a>
            <a href="/explore/launches">Launches</a>
            <a href="/explore/ourstores">Our Stores</a>
            <a href="/explore/aboutthebrand">About the Brand</a>
          </div>
        </a>
      </nav>

      <div class="header-icons">
        <a href="javascript:void(0);" id="search-icon">üîç</a>
        <a href="/account">üë§</a>
        <a href="/cart">üõí</a>
      </div>
    </div>
  </div>

  <!-- Search Bar -->
  <div id="search-bar" class="search-bar">
    <input type="text" placeholder="Search...">
  </div>

  <style>
    /* Header Styling */
    .custom-header {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      background: transparent;
      overflow: hidden;
      z-index: 1000;
    }

    .header-container {
      display: flex;
      justify-content: space-between;
      align-items: center;
      width: 100%;
      max-width: 100%;
      padding: 10px 40px;
    }

    .logo__image {
      max-width: 150px;
    }

    /* Right Section (nav menu + icons) */
    .header-right {
      display: flex;
      justify-content: flex-start; /* Align the nav and icons to the left */
      gap: 15px; /* Adjust this to control space between menu and icons */
    }

    .nav-menu {
      display: flex;
      gap: 15px;
      align-items: center;
      margin-right: 20px; /* Some spacing between the nav and icons */
    }

    .nav-menu a {
      color: black;
      padding: 0 15px;
      text-decoration: none;
      font-weight: bold;
      position: relative;
    }

    .header-icons a {
      padding: 0 15px;
      color: black;
      text-decoration: none;
      font-size: 1.5em;
    }

    /* Submenu Styling */
    .has-submenu {
      position: relative;
    }

    .submenu {
      display: none;
      position: absolute;
      top: 100%;
      left: 0;
      background: white;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      padding: 10px;
      width: 200px;
      z-index: 1000;
    }

    .has-submenu:hover .submenu {
      display: block;
      opacity: 1;
      transform: translateY(0);
    }

    .submenu a {
      padding: 5px 10px;
      display: block;
      text-decoration: none;
      color: black;
    }

    .submenu a:hover {
      background-color: #f1f1f1;
    }

    /* Search Bar Styling */
    .search-bar {
      position: absolute;
      bottom: -50px;
      left: 50%;
      transform: translateX(-50%);
      width: 300px;
      display: none;
      background-color: white;
      border-top: 2px solid #ccc;
      padding: 10px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      transition: bottom 0.3s ease, opacity 0.3s ease;
    }

    .search-bar input {
      width: 100%;
      padding: 8px;
      font-size: 16px;
      border: 1px solid #ccc;
      border-radius: 4px;
    }
  </style>

  <script>
    const searchIcon = document.getElementById('search-icon');
    const searchBar = document.getElementById('search-bar');

    searchIcon.addEventListener('click', () => {
      if (searchBar.style.display === "block") {
        searchBar.style.display = "none"; // Hide search bar if it's visible
      } else {
        searchBar.style.display = "block"; // Show search bar
        searchBar.style.bottom = '50px'; // Adjust position when visible
        searchBar.style.opacity = '1';
      }
    });

    // Adjust header position based on announcement bar height
    document.addEventListener("DOMContentLoaded", function () {
      var announcementBar = document.querySelector(".announcement-bar");
      var header = document.querySelector(".custom-header");

      if (announcementBar && header) {
        var barHeight = announcementBar.offsetHeight;
        header.style.marginTop = barHeight + "px"; // Space below the announcement bar
      }
    });
  </script>
</section>
